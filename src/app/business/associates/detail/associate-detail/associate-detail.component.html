<div class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full" id="modal">
  <div class="relative top-20 mx-auto p-6 border w-96 shadow-lg rounded-md bg-white">
    <h3 class="text-xl font-semibold text-gray-900 mb-4">
      {{ isEditing ? 'Editar Datos del Socio' : 'Detalles del Socio' }}
    </h3>

    <!-- Modo Vista -->
    <div *ngIf="!isEditing" class="space-y-2">
      <p><span class="font-bold">Nombre:</span> {{ selectedUser?.firstName }} {{ selectedUser?.lastName }}</p>
      <p><span class="font-bold">Cédula:</span> {{ selectedUser?.numberId }}</p>
      <p><span class="font-bold">Teléfono:</span> {{ selectedUser?.mobileNumber }}</p>
      <p><span class="font-bold">Email:</span> {{ selectedUser?.email }}</p>
      <p><span class="font-bold">Empresa:</span> {{ selectedUser?.company || 'No especificada' }}</p>
    </div>

    <!-- Modo Edición -->
    <form *ngIf="isEditing" class="space-y-4">
      <div>
        <label for="firstName" class="block text-sm font-medium text-gray-700">Nombre</label>
        <input
          id="firstName"
          [(ngModel)]="editUser.firstName"
          type="text"
          class="mt-1 p-2 border rounded w-full"
          name="firstName" 
        />
      </div>
      <div>
        <label for="lastName" class="block text-sm font-medium text-gray-700">Apellido</label>
        <input
          id="lastName"
          [(ngModel)]="editUser.lastName"
          name="lastName" 
          type="text"
          class="mt-1 p-2 border rounded w-full"
        />
      </div>
      <div>
        <label for="mobileNumber" class="block text-sm font-medium text-gray-700">Teléfono</label>
        <input
          id="mobileNumber"
          name="mobileNumber" 
          [(ngModel)]="editUser.mobileNumber"
          type="text"
          class="mt-1 p-2 border rounded w-full"
        />
      </div>
      <div>
        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
        <input
          id="email"
          name="email" 
          [(ngModel)]="editUser.email"
          type="email"
          class="mt-1 p-2 border rounded w-full"
        />
      </div>
      <div>
        <label for="company" class="block text-sm font-medium text-gray-700">Empresa</label>
        <input
          id="company"
          name="company" 
          [(ngModel)]="editUser.company"
          type="text"
          class="mt-1 p-2 border rounded w-full"
        />
      </div>
    </form>

    <div class="mt-4 border-t pt-2">
      <span class="font-bold">Balance Actual:</span>
      <span class="text-lg text-blue-700">{{ selectedUser.totalSavings | currency }}</span>
    </div>

    <!-- Botones -->
    <div class="flex justify-end mt-6 space-x-4">
      <button
        *ngIf="!isEditing"
        (click)="toggleEdit()"
        class="px-4 py-2 bg-blue-500 text-white rounded-md shadow-md hover:bg-blue-600"
      >
        Editar
      </button>
      <button
        *ngIf="isEditing"
        (click)="saveChanges()"
        class="px-4 py-2 bg-green-500 text-white rounded-md shadow-md hover:bg-green-600"
      >
        Guardar
      </button>
      <button
        *ngIf="isEditing"
        (click)="cancelEdit()"
        class="px-4 py-2 bg-gray-500 text-white rounded-md shadow-md hover:bg-gray-600"
      >
        Cancelar
      </button>
      <button
        (click)="closeModal()"
        class="px-4 py-2 bg-red-500 text-white rounded-md shadow-md hover:bg-red-600"
      >
        Cerrar
      </button>
    </div>
  </div>
</div>
